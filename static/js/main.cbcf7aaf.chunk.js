(this["webpackJsonpclimate-risk-map"]=this["webpackJsonpclimate-risk-map"]||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),i=n(63),m=n.n(i),_=(n(97),n(17)),c=n(1),d=n(38),l=n(120),s=n(121),u=n(122),p=n(123);!function(e){e[e.E_cmi10_00=0]="E_cmi10_00",e[e.E_cmi10_80=1]="E_cmi10_80",e[e.E_cmi10_81=2]="E_cmi10_81",e[e.E_def_00_1=3]="E_def_00_1",e[e.E_def_80_1=4]="E_def_80_1",e[e.E_def_80_9=5]="E_def_80_9",e[e.E_dry_00_1=6]="E_dry_00_1",e[e.E_dry_80_1=7]="E_dry_80_1",e[e.E_dry_80_9=8]="E_dry_80_9",e[e.E_gw_00_19=9]="E_gw_00_19",e[e.E_gw_80_19=10]="E_gw_80_19",e[e.E_gw_80_99=11]="E_gw_80_99",e[e.E_ht_00_19=12]="E_ht_00_19",e[e.E_ht_80_19=13]="E_ht_80_19",e[e.E_ht_80_99=14]="E_ht_80_99",e[e.E_pet_00_1=15]="E_pet_00_1",e[e.E_pet_80_1=16]="E_pet_80_1",e[e.E_pet_80_9=17]="E_pet_80_9",e[e.E_prc_00_1=18]="E_prc_00_1",e[e.E_prc_80_1=19]="E_prc_80_1",e[e.E_prc_80_9=20]="E_prc_80_9",e[e.E_ro_00_19=21]="E_ro_00_19",e[e.E_ro_80_19=22]="E_ro_80_19",e[e.E_ro_80_99=23]="E_ro_80_99",e[e.E_wet_00_1=24]="E_wet_00_1",e[e.E_wet_80_1=25]="E_wet_80_1",e[e.E_wet_80_9=26]="E_wet_80_9",e[e.M_cmi10_00=27]="M_cmi10_00",e[e.M_cmi10_8_=28]="M_cmi10_8_",e[e.M_cmi10_80=29]="M_cmi10_80",e[e.M_def_00_1=30]="M_def_00_1",e[e.M_def_80_1=31]="M_def_80_1",e[e.M_def_80_9=32]="M_def_80_9",e[e.M_dry_00_1=33]="M_dry_00_1",e[e.M_dry_80_1=34]="M_dry_80_1",e[e.M_dry_80_9=35]="M_dry_80_9",e[e.M_gw_00_19=36]="M_gw_00_19",e[e.M_gw_80_19=37]="M_gw_80_19",e[e.M_gw_80_99=38]="M_gw_80_99",e[e.M_ht_00_19=39]="M_ht_00_19",e[e.M_ht_80_19=40]="M_ht_80_19",e[e.M_ht_80_99=41]="M_ht_80_99",e[e.M_pet_00_1=42]="M_pet_00_1",e[e.M_pet_80_1=43]="M_pet_80_1",e[e.M_pet_80_9=44]="M_pet_80_9",e[e.M_prc_00_1=45]="M_prc_00_1",e[e.M_prc_80_1=46]="M_prc_80_1",e[e.M_prc_80_9=47]="M_prc_80_9",e[e.M_ro_00_19=48]="M_ro_00_19",e[e.M_ro_80_19=49]="M_ro_80_19",e[e.M_ro_80_99=50]="M_ro_80_99",e[e.M_wet_00_1=51]="M_wet_00_1",e[e.M_wet_80_1=52]="M_wet_80_1",e[e.M_wet_80_9=53]="M_wet_80_9",e[e.Allindustr=54]="Allindustr",e[e.Farming=55]="Farming",e[e.Mining=56]="Mining",e[e.Constructi=57]="Constructi",e[e.Retailtrad=58]="Retailtrad",e[e.Informatio=59]="Informatio",e[e.Wholesalet=60]="Wholesalet",e[e.discuss=61]="discuss",e[e.PerCapitap=62]="PerCapitap",e[e.GDP2018=63]="GDP2018"}(a||(a={}));var f=Object(c.b)(",.0f"),E=new Map;E.set(a.M_cmi10_00,{name:"Climate Moisture Index 2000-2019 MERRA2",units:"",formatter:f,color:Object(c.d)(l.a).domain([-10,0,10]),normalized:!0,description:""}),E.set(a.E_cmi10_00,{name:"Climate Moisture Index 2000-2019 ERA5",units:"",formatter:f,color:Object(c.d)(l.a).domain([-10,0,10]),normalized:!0,description:""}),E.set(a.M_cmi10_80,{name:"Climate Moisture Index 1980-1999 MERRA2",units:"",formatter:f,color:Object(c.d)(l.a).domain([-10,0,10]),normalized:!0,description:""}),E.set(a.E_cmi10_80,{name:"Climate Moisture Index 1980-1999 ERA5",units:"",formatter:f,color:Object(c.d)(l.a).domain([-10,0,10]),normalized:!0,description:""}),E.set(a.M_cmi10_8_,{name:"Climate Moisture Index 1980-2019 MERRA2",units:"",formatter:f,color:Object(c.d)(l.a).domain([-10,0,10]),normalized:!0,description:""}),E.set(a.E_cmi10_81,{name:"Climate Moisture Index 1980-2019 ERA5",units:"",formatter:f,color:Object(c.d)(l.a).domain([-10,0,10]),normalized:!0,description:""}),E.set(a.M_def_00_1,{name:"Irrigation Deficit 2000-2019 MERRA2",units:"mm/year",formatter:f,color:Object(c.d)((function(e){return l.a(1-e)})).domain([-600,0,1600]),normalized:!1,description:""}),E.set(a.E_def_00_1,{name:"Irrigation Deficit 2000-2019 ERA5",units:"mm/year",formatter:f,color:Object(c.d)((function(e){return l.a(1-e)})).domain([-600,0,1600]),normalized:!1,description:""}),E.set(a.M_def_80_1,{name:"Irrigation Deficit 1980-2019 MERRA2",units:"mm/year",formatter:f,color:Object(c.d)((function(e){return l.a(1-e)})).domain([-600,0,1600]),normalized:!1,description:""}),E.set(a.E_def_80_1,{name:"Irrigation Deficit 1980-2019 ERA5",units:"mm/year",formatter:f,color:Object(c.d)((function(e){return l.a(1-e)})).domain([-600,0,1600]),normalized:!1,description:""}),E.set(a.M_def_80_9,{name:"Irrigation Deficit 1980-1999 MERRA2",units:"mm/year",formatter:f,color:Object(c.d)((function(e){return l.a(1-e)})).domain([-600,0,1600]),normalized:!1,description:""}),E.set(a.E_def_80_9,{name:"Irrigation Deficit 1980-1999 ERA5",units:"mm/year",formatter:f,color:Object(c.d)((function(e){return l.a(1-e)})).domain([-600,0,1600]),normalized:!1,description:""}),E.set(a.M_dry_00_1,{name:"Drought Indicator 2000-2019 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,1500]),normalized:!1,description:""}),E.set(a.E_dry_00_1,{name:"Drought Indicator 2000-2019 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,1500]),normalized:!1,description:""}),E.set(a.M_dry_80_1,{name:"Drought Indicator 1980-2019 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,1500]),normalized:!1,description:""}),E.set(a.E_dry_80_1,{name:"Drought Indicator 1980-2019 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,1500]),normalized:!1,description:""}),E.set(a.M_dry_80_9,{name:"Drought Indicator 1980-1999 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,1500]),normalized:!1,description:""}),E.set(a.E_dry_80_9,{name:"Drought Indicator 1980-1999 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,1500]),normalized:!1,description:""}),E.set(a.M_gw_00_19,{name:"Groundwater 2000-2019 MERRA2",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,40]),normalized:!1,description:""}),E.set(a.E_gw_00_19,{name:"Groundwater 2000-2019 ERA5",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,40]),normalized:!1,description:""}),E.set(a.M_gw_80_19,{name:"Groundwater 1980-2019 MERRA2",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,40]),normalized:!1,description:""}),E.set(a.E_gw_80_19,{name:"Groundwater 1980-2019 ERA5",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,40]),normalized:!1,description:""}),E.set(a.M_gw_80_99,{name:"Groundwater 1980-1999 MERRA2",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,40]),normalized:!1,description:""}),E.set(a.E_gw_80_99,{name:"Groundwater 1980-1999 ERA5",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,40]),normalized:!1,description:""}),E.set(a.M_ht_00_19,{name:"Maximum Month Temperature 2000-2019 MERRA2",units:"\xb0C",formatter:f,color:Object(c.d)((function(e){return u.a(1-e)})).domain([20,30,40]),normalized:!1,description:""}),E.set(a.E_ht_00_19,{name:"Maximum Month Temperature 2000-2019 ERA5",units:"\xb0C",formatter:f,color:Object(c.d)((function(e){return u.a(1-e)})).domain([20,30,40]),normalized:!1,description:""}),E.set(a.M_ht_80_19,{name:"Maximum Month Temperature 1980-2019 MERRA2",units:"\xb0C",formatter:f,color:Object(c.d)((function(e){return u.a(1-e)})).domain([20,30,40]),normalized:!1,description:""}),E.set(a.E_ht_80_19,{name:"Maximum Month Temperature 1980-2019 ERA5",units:"\xb0C",formatter:f,color:Object(c.d)((function(e){return u.a(1-e)})).domain([20,30,40]),normalized:!1,description:""}),E.set(a.M_ht_80_99,{name:"Maximum Month Temperature 1980-1999 MERRA2",units:"\xb0C",formatter:f,color:Object(c.d)((function(e){return u.a(1-e)})).domain([20,30,40]),normalized:!1,description:""}),E.set(a.E_ht_80_99,{name:"Maximum Month Temperature 1980-1999 ERA5",units:"\xb0C",formatter:f,color:Object(c.d)((function(e){return u.a(1-e)})).domain([20,30,40]),normalized:!1,description:""}),E.set(a.M_pet_00_1,{name:"Mean Annual Potential Evapotranspiration 2000-2019 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([300,1700]),normalized:!1,description:""}),E.set(a.E_pet_00_1,{name:"Mean Annual Potential Evapotranspiration 2000-2019 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([300,1700]),normalized:!1,description:""}),E.set(a.M_pet_80_1,{name:"Mean Annual Potential Evapotranspiration 1980-2019 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([300,1700]),normalized:!1,description:""}),E.set(a.E_pet_80_1,{name:"Mean Annual Potential Evapotranspiration 1980-2019 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([300,1700]),normalized:!1,description:""}),E.set(a.M_pet_80_9,{name:"Mean Annual Potential Evapotranspiration 1980-1999 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([300,1700]),normalized:!1,description:""}),E.set(a.E_pet_80_9,{name:"Mean Annual Potential Evapotranspiration 1980-1999 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([300,1700]),normalized:!1,description:""}),E.set(a.M_prc_00_1,{name:"Mean Annual Precipitation 2000-2019 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2200]),normalized:!1,description:""}),E.set(a.E_prc_00_1,{name:"Mean Annual Precipitation 2000-2019 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2200]),normalized:!1,description:""}),E.set(a.M_prc_80_1,{name:"Mean Annual Precipitation 1980-2019 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2200]),normalized:!1,description:""}),E.set(a.E_prc_80_1,{name:"Mean Annual Precipitation 1980-2019 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2200]),normalized:!1,description:""}),E.set(a.M_prc_80_9,{name:"Mean Annual Precipitation 1980-1999 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2200]),normalized:!1,description:""}),E.set(a.E_prc_80_9,{name:"Mean Annual Precipitation 1980-1999 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2200]),normalized:!1,description:""}),E.set(a.M_ro_00_19,{name:"Mean Annual Runoff 2000-2019 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2e3]),normalized:!1,description:""}),E.set(a.E_ro_00_19,{name:"Mean Annual Runoff 2000-2019 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2e3]),normalized:!1,description:""}),E.set(a.M_ro_80_19,{name:"Mean Annual Runoff 1980-2019 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2e3]),normalized:!1,description:""}),E.set(a.E_ro_80_19,{name:"Mean Annual Runoff 1980-2019 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2e3]),normalized:!1,description:""}),E.set(a.M_ro_80_99,{name:"Mean Annual Runoff 1980-1999 MERRA2",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2e3]),normalized:!1,description:""}),E.set(a.E_ro_80_99,{name:"Mean Annual Runoff 1980-1999 ERA5",units:"mm/year",formatter:f,color:Object(c.e)(s.a).domain([0,2e3]),normalized:!1,description:""}),E.set(a.M_wet_00_1,{name:"Flood Indicator 2000-2019 MERRA2",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,500]),normalized:!1,description:""}),E.set(a.E_wet_00_1,{name:"Flood Indicator 2000-2019 ERA5",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,500]),normalized:!1,description:""}),E.set(a.M_wet_80_1,{name:"Flood Indicator 1980-2019 MERRA2",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,500]),normalized:!1,description:""}),E.set(a.E_wet_80_1,{name:"Flood Indicator 1980-2019 ERA5",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,500]),normalized:!1,description:""}),E.set(a.M_wet_80_9,{name:"Flood Indicator 1890-1999 MERRA2",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,500]),normalized:!1,description:""}),E.set(a.E_wet_80_9,{name:"Flood Indicator 1890-1999 ERA5",units:"mm/month",formatter:f,color:Object(c.e)(s.a).domain([0,500]),normalized:!1,description:""}),E.set(a.GDP2018,{name:"GDP 2018",units:"USD",formatter:Object(c.b)("$,.0f"),color:Object(c.f)().domain([0,1e6,2e6,3e6,1e7,1e8,3e8,7e8]).range(p.b[8]),normalized:!1,description:""}),E.set(a.Allindustr,{name:"Allindustr",units:"",formatter:f,color:Object(c.e)(p.a).domain([0,1e6]),normalized:!1,description:""}),E.set(a.Farming,{name:"Farming",units:"",formatter:f,color:Object(c.e)(p.a).domain([0,2e4]),normalized:!1,description:""}),E.set(a.Mining,{name:"Mining MERRA2",units:"",formatter:f,color:Object(c.e)(p.a).domain([0,2e4]),normalized:!1,description:""}),E.set(a.Constructi,{name:"Constructi",units:"",formatter:f,color:Object(c.e)(p.a).domain([0,2e4]),normalized:!1,description:""}),E.set(a.Retailtrad,{name:"Retailtrad",units:"",formatter:f,color:Object(c.e)(p.a).domain([0,2e4]),normalized:!1,description:""}),E.set(a.Informatio,{name:"Informatio",units:"",formatter:f,color:Object(c.e)(p.a).domain([0,2e4]),normalized:!1,description:""}),E.set(a.Wholesalet,{name:"Wholesalet",units:"",formatter:f,color:Object(c.e)(p.a).domain([0,2e4]),normalized:!1,description:""}),E.set(a.discuss,{name:"discuss",units:"",formatter:f,color:Object(c.e)(p.a).domain([20,60]),normalized:!1,description:""}),E.set(a.PerCapitap,{name:"PerCapitap",units:"",formatter:f,color:Object(c.d)(l.a).domain([1e4,4e4,1e5]),normalized:!1,description:""});var M=E,b=n(66),j=Object(c.g)("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("font-size","0.7em").style("font-family","sans-serif").style("font-weight",600).style("padding","4px").style("background","white").style("pointer-events","none"),h=function(e,t){return void 0===e?"No data":t.formatter(e)+R(t.units)},R=function(e){return e?" ".concat(e):""},O=function(e){Object(c.g)(this).style("opacity",1).style("stroke",null),j.transition().duration(200).style("opacity",0)},z=function(e){var t=e.data,n=e.selection,i=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e=M.get(n),o=Object(c.g)(i.current);if(void 0!==t){var r,m=Object(d.a)(t,t.objects.counties),_=Object(b.a)().cells(5).shapeWidth(20).shapeHeight(30).shapePadding(0).titleWidth(200).title(e.name+(r=e.units,r?" (".concat(r,")"):"")).labelFormat(e.formatter).orient("vertical").scale(e.color);o.select("#legend").attr("transform","translate(925, 320)").call(_),o.select("#counties").selectAll("path").data(m.features).join("path").attr("class","county").attr("fill",(function(t){var o;return t.properties&&null!==(o=e.color(t.properties[a[n]]))&&void 0!==o?o:"#ccc"})).attr("d",Object(c.c)()),o.select("#states").select("path").datum(Object(d.b)(t,t.objects.states)).attr("fill","none").attr("stroke","white").attr("stroke-linejoin","round").attr("d",Object(c.c)()),o.selectAll(".county").on("touchmove mousemove",function(e){return function(t){var n;Object(c.g)(this).style("opacity",.5).style("stroke","black").style("stroke-width",.5),j.transition().duration(200).style("opacity",.9);var o=null!==(n=t.properties.County_Sta.replace("_",", "))&&void 0!==n?n:"---",r=t.properties[a[e]],i=M.get(e);j.html("".concat(o,": ").concat(h(r,i))).style("left","".concat(c.a.pageX+20,"px")).style("top",c.a.pageY-45+"px")}}(n)).on("touchend mouseleave",O)}}),[t,n]),r.a.createElement("svg",{ref:i,viewBox:"0, 0, 1175, 610"},r.a.createElement("g",{id:"legend"}),r.a.createElement("g",{id:"counties"}),r.a.createElement("g",{id:"states"},r.a.createElement("path",null)))},y=function(e){var t=e.selection,n=e.onSelectionChange,o=e.showNormalized;return r.a.createElement("select",{value:a[t],onChange:n},Array.from(M.entries()).filter((function(e){var t=Object(_.a)(e,2),n=(t[0],t[1]);return o?n.normalized:!n.normalized})).map((function(e){var t,n=Object(_.a)(e,2),o=n[0],i=n[1];return r.a.createElement("option",{key:a[o],value:a[o]},i.name," ",(t=i.units)?"(".concat(t,")"):"")})))},A=function(e){var t=e.onSelectionChange,n=e.showNormalized;return r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"raw",name:"data-type",value:"raw",checked:!n,onChange:t}),r.a.createElement("label",{htmlFor:"raw"},"Raw Data")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"normalized",name:"data-type",value:"normalized",checked:n,onChange:t}),r.a.createElement("label",{htmlFor:"normalized"},"Normalized Data")))},g=(n(98),function(e){var t,n,a=e.selection;return r.a.createElement("p",{id:"description"},null!==(t=null===(n=M.get(a))||void 0===n?void 0:n.description)&&void 0!==t?t:"")}),w=n(124),v=n(5);function C(e){return a[e]}function I(e){var t,n,a=!1;void 0!==e&&((a=M.get(e).normalized)?t=e:n=e);return{selection:n,normalizedSelection:t,normalized:a}}var P=function(){var e=Object(v.f)(),t=I(C(new URLSearchParams(Object(v.g)().search).get("id"))),n=void 0!==t.selection?t.selection:a.E_def_80_1,i=void 0!==t.normalizedSelection?t.normalizedSelection:a.E_cmi10_80,m=t.normalized,c=Object(o.useState)(void 0),d=Object(_.a)(c,2),l=d[0],s=d[1],u=Object(o.useState)(n),p=Object(_.a)(u,2),f=p[0],E=p[1],M=Object(o.useState)(i),b=Object(_.a)(M,2),j=b[0],h=b[1],R=Object(o.useState)(m),O=Object(_.a)(R,2),P=O[0],k=O[1];Object(o.useEffect)((function(){Object(w.a)("/climate-risk-map/usa-topo.json").then(s)}),[]);Object(o.useEffect)((function(){void 0!==n&&E(n)}),[n]),Object(o.useEffect)((function(){void 0!==i&&h(i)}),[i]),Object(o.useEffect)((function(){k(m)}),[m]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Climate Risk Map"),r.a.createElement(A,{onSelectionChange:function(t){var n="normalized"===t.target.value;k(n);var o=n?j:f;e.push("?id="+a[o])},showNormalized:P}),r.a.createElement(y,{onSelectionChange:function(t){e.push("?id="+t.target.value);var n=I(C(t.target.value));void 0!==n.selection&&E(n.selection),void 0!==n.normalizedSelection&&h(n.normalizedSelection)},selection:P?j:f,showNormalized:P}),r.a.createElement(g,{selection:P?j:f}),r.a.createElement(z,{data:l,selection:P?j:f}))},k=n(34),D=function(){return r.a.createElement(k.a,{basename:"/climate-risk-map"},r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/"},r.a.createElement(P,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,n){e.exports=n(104)},97:function(e,t,n){},98:function(e,t,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.cbcf7aaf.chunk.js.map